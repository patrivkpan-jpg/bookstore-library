const t={baseUrl:"/api/kangaroos",kangaroos:[],init:function(){$.ajax({method:"GET",url:this.baseUrl}).done(function(a){t.kangaroos=a,t.initDxDataGrid()})},initDxDataGrid:function(){const a=$("#kangarooTable").dxDataGrid({dataSource:this.kangaroos.reverse(),keyExpr:"id",columns:[{dataField:"id",visible:!1},{dataField:"name",validationRules:[{type:"required"}]},"nickname",{dataField:"weight",dataType:"number",validationRules:[{type:"required"}]},{dataField:"height",dataType:"number",validationRules:[{type:"required"}]},{dataField:"gender",lookup:{dataSource:["Male","Female"]},validationRules:[{type:"required"}]},{dataField:"color",visible:!1},{dataField:"friendliness",lookup:{dataSource:["Friendly","Independent"]}},{dataField:"birthday",dataType:"date",validationRules:[{type:"required"}]}],dateSerializationFormat:"yyyy-MM-dd",editing:{mode:"popup",allowUpdating:!0,allowAdding:!0,allowDeleting:!1,popup:{title:"Kangaroo",showTitle:!0,width:700,height:525},form:{items:[{itemType:"group",colCount:2,colSpan:2,items:["name","nickname"]},{itemType:"group",colCount:2,colSpan:2,items:[{dataField:"weight",dataType:"number"},{dataField:"height",dataType:"number"}]},{itemType:"group",colCount:3,colSpan:2,items:["gender","color","friendliness"]},{itemType:"group",colCount:1,colSpan:2,items:[{dataField:"birthday",dataType:"date"}]}]}},onRowInserting:function(e){i(e),e.cancel=!0},onRowUpdated:function(e){t.updateKangaroo(e.key,e.data)},filterRow:{visible:!0,applyFilter:"auto"},searchPanel:{visible:!0,width:240,placeholder:"Search..."},sorting:{mode:"single"},showBorders:!0}).dxDataGrid("instance"),i=e=>{$.ajax({method:"POST",url:this.baseUrl,data:e.data}).done(function(o){let n=a.getDataSource();n.store().insert(o).then(function(){n.reload(),e.component.cancelEditData()})}).fail(function(o){alert(JSON.parse(o.responseText))})}},updateKangaroo:function(a,i){$.ajax({method:"POST",url:`${this.baseUrl}/${a}/?_method=PUT`,data:i}).done(function(e){console.log(e)}).fail(function(e){alert(JSON.parse(e.responseText))})}};t.init();require("./bootstrap");
